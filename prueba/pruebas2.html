<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type="text/css" media="all">
      .letra {
        color: steelblue;
        margin: 10px;
        text-align: center;
        padding: 10px;
        border: 3px solid black;
      }
    </style>
    <title>Ahorcado</title>

    <body>
      <div class="contenedor">
        <div id="contenedorLetras">
          <span class="letra">x</span>
        </div>

        <p>
          <input type="text" name="ingresoUsr" id="ingresoUsr" value="" />
          <br />
          <label for="ingresoUsr" id="mensajeError">mensaje error</label>
          <br />
          <button id="btnComprobar">Comprobar</button>
        </p>
      </div>

      <script>
        let palabraSecreta = "batata";
        let descubierto = "";
        let descubiertoArray = descubierto.split("");
        let ingresoUsr = document.querySelector("#ingresoUsr");

        let btnComprobar = document.querySelector("#btnComprobar");
        let contenedorLetras = document.querySelector("#contenedorLetras");

        btnComprobar.addEventListener("click", function () {
          calcularDescubiertos();
          buscarCoincidencia(ingresoUsr.value);
          mostrarDescubiertos(calcularDescubiertos());
          ingresoUsr.value = "";
        });
        function nuevaPalabra() {
          palabraSecreta = "banana";
          calcularDescubiertos(palabraSecreta);
        }
        function buscarCoincidencia(ingresoUsr) {
          for (orden in palabraSecreta) {
            if (ingresoUsr == palabraSecreta[orden]) {
              descubiertoArray[orden] = palabraSecreta[orden];
              console.log(
                "@" +
                  descubiertoArray[orden] +
                  "@" +
                  ingresoUsr +
                  "@" +
                  palabraSecreta[orden] +
                  "@" +
                  orden
              );
            } else {
            }
          }
          if (ingresoUsr == palabraSecreta || descubierto == palabraSecreta) {
            alert("ganaste");
          }
        }
        function calcularDescubiertos() {
          descubierto = "";
          for (letra of descubiertoArray) {
            if (letra != undefined) {
              descubierto += letra;
            } else {
              descubierto += "_";
            }
          }
          return descubierto;
        }
        function mostrarDescubiertos(palabra) {
          let cadena = "";
          contenedorLetras.innerHTML = "";
          for (letra of palabra) {
            cadena += `<span class="letra">${letra}</span>`;
          }

          contenedorLetras.innerHTML = cadena;
        }
        function deCodificador(mensajeClave) {
  mensajeClave = mensajeClave.toLowerCase();
  let listKeys = ["enter", "imes", "ai", "ober", "ufat"];
  for (key of listKeys) {
    while (mensajeClave.match(key)) {
      mensajeClave = mensajeClave.replace(key, key[0]);
    }
  }
  return mensajeClave;
}
      </script>
    </body>
  </head>
</html>
